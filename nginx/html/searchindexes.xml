<?xml version="1.0" encoding="utf-8" standalone="yes"?><search><entry><title>CommonDialog</title><url>/post/element-ui/commondialog/</url><categories/><tags/><content type="html"><![CDATA[对话框的显示/隐藏，及相关配置 目录结构 . . ├── App.vue ├── main.js # 全局配置组件 ├── components │ ├── Common │ │ ├── CommonDialog # 弹窗组件 │ │ │ └── index.vue └── views └── exampleCommon # 示例合集 ├── components └── index.vue 举个例子 index.vue文件 &lt;template&gt; &lt;div&gt; &lt;!-- 组件合集 --&gt; &lt;CommonTitle&gt; &lt;span slot=&#34;name&#34;&gt;组件合集&lt;/span&gt; &lt;template slot=&#34;oper-btn&#34;&gt; &lt;el-button v-waves class=&#34;green-btn&#34; type=&#34;primary&#34; @click=&#34;dialogDefaultAttributes.visible = true&#34;&gt; 大弹窗 &lt;/el-button&gt; &lt;el-button v-waves class=&#34;green-btn&#34; type=&#34;primary&#34; @click=&#34;dialogMediumAttributes.visible = true&#34;&gt; 中弹窗 &lt;/el-button&gt; &lt;el-button v-waves class=&#34;green-btn&#34; type=&#34;primary&#34; @click=&#34;dialogSmallAttributes.visible = true&#34;&gt; 小弹窗 &lt;/el-button&gt; &lt;/template&gt; &lt;/CommonTitle&gt; &lt;!-- 大弹窗 --&gt; &lt;CommonDialog :title=&#34;`大弹窗`&#34; :visible.sync=&#34;dialogDefaultAttributes.visible&#34; :loading.sync=&#34;dialogDefaultAttributes.loading&#34; @cancel=&#34;dialogDefaultAttributes.visible = false&#34; @confirm=&#34;dialogDefaultConfirm&#34;&gt;&lt;/CommonDialog&gt; &lt;!-- 中弹窗 --&gt; &lt;CommonDialog :title=&#34;`中弹窗`&#34; size=&#34;medium&#34; :visible.sync=&#34;dialogMediumAttributes.visible&#34; :loading.sync=&#34;dialogMediumAttributes.loading&#34; @cancel=&#34;dialogMediumAttributes.visible = false&#34; @confirm=&#34;dialogMediumConfirm&#34;&gt;&lt;/CommonDialog&gt; &lt;!-- 小弹窗-提示框 --&gt; &lt;CommonDialog :title=&#34;`提示`&#34; size=&#34;small&#34; :visible.sync=&#34;dialogSmallAttributes.visible&#34; :loading.sync=&#34;dialogSmallAttributes.loading&#34; @cancel=&#34;dialogSmallAttributes.visible = false&#34; @confirm=&#34;dialogSmallConfirm&#34;&gt; &lt;div class=&#34;flex-x-start&#34;&gt; &lt;el-image style=&#34;width: 18px; height: 18px&#34; :src=&#34;require(&#39;@/assets/icon/warning2x.png&#39;)&#34; fit&gt;&lt;/el-image&gt; &lt;span class=&#34;deletetip&#34;&gt;{{ tipsContent }}&lt;/span&gt; &lt;/div&gt; &lt;/CommonDialog&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import waves from &#34;@/directive/waves&#34;; // waves directive export default { name: &#34;ExampleCommon&#34;, components: {}, directives: { waves }, data() { return { tipsContent: &#34;此操作无法回滚，是否继续&#34;, // 大 Dialog 的配置 dialogDefaultAttributes: { visible: false, loading: false, }, // 中 Dialog 的配置 dialogMediumAttributes: { visible: false, loading: false, }, // 小 Dialog 的配置 dialogSmallAttributes: { visible: false, loading: false, }, }; }, methods: { dialogDefaultConfirm() { this.dialogDefaultAttributes.loading = true; setTimeout(() =&gt; { this.dialogDefaultAttributes.loading = false; this.dialogDefaultAttributes.visible = false; }, 1000); }, dialogMediumConfirm() { this.dialogMediumAttributes.loading = true; setTimeout(() =&gt; { this.dialogMediumAttributes.loading = false; this.dialogMediumAttributes.visible = false; }, 1000); }, dialogSmallConfirm() { this.dialogSmallAttributes.loading = true; setTimeout(() =&gt; { this.dialogSmallAttributes.loading = false; this.dialogSmallAttributes.visible = false; }, 1000); }, }, }; &lt;/script&gt; &lt;style lang=&#34;&#34; scoped&gt;&lt;/style&gt; CommonDialog【对话框本身】 弹窗组件。只做展示，逻辑部分移交给它的父组件处理
&lt;template&gt; &lt;el-dialog :visible.sync=&#34;visible&#34; :before-close=&#34;handleBeforeClose&#34; class=&#34;asset-form&#34; :title=&#34;title&#34; :append-to-body=&#34;appendToBody&#34; :width=&#34;`${width}px`&#34; @close=&#34;handleClose&#34;&gt; &lt;!-- dialog 主要的 --&gt; &lt;slot class=&#34;dialog-main&#34;&gt;main&lt;/slot&gt; &lt;template slot=&#34;footer&#34;&gt; &lt;el-button v-if=&#34;showCancelButton&#34; size=&#34;small&#34; @click=&#34;cancel&#34;&gt;{{ cancelButtonText }}&lt;/el-button&gt; &lt;el-button v-if=&#34;showConfirmButton&#34; size=&#34;small&#34; :loading=&#34;loading&#34; type=&#34;primary&#34; @click=&#34;confirm&#34;&gt; {{ confirmButtonText }} &lt;/el-button&gt; &lt;/template&gt; &lt;/el-dialog&gt; &lt;/template&gt; &lt;script&gt; /** * @desc: 弹窗组件。只做展示，逻辑部分移交给它的父组件处理，如：NewAndEdit.vue】 * Attributes: * title: &#34;标题名称&#34;, // 标题，默认值: 标题名称 * visible: false, // 是否显示，默认值: false * loading: false, // 确定按钮加载中效果，默认值: false * size: &#34;default&#34;, // 尺寸，默认值: &#34;default&#34; * showCancelButton: true, // 是否显示取消按钮，默认值: true * showConfirmButton: true, // 是否显示确定按钮，默认值: true * cancelButtonText: &#34;取 消&#34;, // 取消按钮的文本内容，默认值: 取 消 * confirmButtonText: &#34;确 定&#34;, // 确定按钮的文本内容，默认值: 确 定 * appendToBody: true, // 是否将自身插入至 body 元素，默认值: true * Other: * @author: zhang lin * @update: 2023-03-14 */ export default { name: &#34;CommonDialog&#34;, props: { // 是否显示 visible: { type: Boolean, default: false, }, // 标题 title: { type: String, default: &#34;提示&#34;, }, // 确定按钮加载中效果 loading: { type: Boolean, default: false, }, /* 尺寸 default 1040 medium 800 small 480 */ size: { type: String, default: &#34;default&#34;, }, // 显示取消按钮 showCancelButton: { type: Boolean, default: true, }, // 显示确定按钮 showConfirmButton: { type: Boolean, default: true, }, // 取消按钮名称 cancelButtonText: { type: String, default: &#34;取 消&#34;, }, // 确定按钮名称 confirmButtonText: { type: String, default: &#34;确 定&#34;, }, // isShowFooter: { // //是否自定底部 // type: Boolean, // default: true, // }, // 是否将自身插入至 body 元素，有嵌套的弹窗时一定要设置 appendToBody: { type: Boolean, default: true, }, }, data() { return {}; }, computed: { width() { switch (this.size) { case &#34;medium&#34;: return &#34;800&#34;; case &#34;small&#34;: return &#34;480&#34;; default: return &#34;1040&#34;; } }, }, methods: { handleBeforeClose() { this.$emit(&#34;update:visible&#34;, false); }, handleClose() {}, cancel() { this.$emit(&#34;cancel&#34;); }, confirm() { this.$emit(&#34;confirm&#34;); }, }, }; &lt;/script&gt; &lt;style lang=&#34;scss&#34; scoped&gt; ::v-deep .el-dialog__footer { padding: 0 24px 24px; } &lt;/style&gt; Attributes 参数 说明 类型 默认值 visible 对话框显示/隐藏 boolean false title 弹窗的标题 string 提示 loading 确定按钮加载中效果 boolean false size 弹窗的尺寸 string &ldquo;default&rdquo; showCancelButton 是否显示取消按钮 boolean true showConfirmButton 是否显示确定按钮 boolean true cancelButtonText 取消按钮的文本内容 string 取 消 confirmButtonText 确定按钮的文本内容 string 确 定 appendToBody 是否将自身插入至 body 元素 boolean true ]]></content></entry></search>